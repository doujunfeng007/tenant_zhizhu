<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.minigod.zero.biz.task.mapper.AssetInfoMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="assetInfoResultMap" type="com.minigod.zero.mkt.entity.AssetInfoEntity">
        <result column="id" property="id"/>
        <result column="asset_id" property="assetId"/>
        <result column="stk_code" property="stkCode"/>
        <result column="map_stk_code" property="mapStkCode"/>
        <result column="mkt_code" property="mktCode"/>
        <result column="sec_type" property="secType"/>
        <result column="sec_stype" property="secStype"/>
        <result column="corp_id" property="corpId"/>
        <result column="stk_name" property="stkName"/>
        <result column="stk_name_long" property="stkNameLong"/>
        <result column="traditional_name" property="traditionalName"/>
        <result column="traditional_long" property="traditionalLong"/>
        <result column="spelling" property="spelling"/>
        <result column="spelling_abbr" property="spellingAbbr"/>
        <result column="spelling_short" property="spellingShort"/>
        <result column="eng_name" property="engName"/>
        <result column="board_code" property="boardCode"/>
        <result column="lot_size" property="lotSize"/>
        <result column="change_limit" property="changeLimit"/>
        <result column="listing_date" property="listingDate"/>
        <result column="delist_date" property="delistDate"/>
        <result column="ccy_type" property="ccyType"/>
        <result column="version" property="version"/>
        <result column="add_version" property="addVersion"/>
        <result column="is_invest" property="isInvest"/>
        <result column="is_simu_invest" property="isSimuInvest"/>
        <result column="ext_time" property="extTime"/>
        <result column="is_confirm" property="isConfirm"/>
        <result column="is_revise" property="isRevise"/>
        <result column="issue_price" property="issuePrice"/>
        <result column="exchange" property="exchange"/>
        <result column="stk_name_iscover" property="stkNameIscover"/>
        <result column="spread_table_code" property="spreadTableCode"/>
        <result column="create_user" property="createUser"/>
        <result column="create_dept" property="createDept"/>
        <result column="create_time" property="createTime"/>
        <result column="update_user" property="updateUser"/>
        <result column="update_time" property="updateTime"/>
        <result column="status" property="status"/>
        <result column="is_deleted" property="isDeleted"/>
    </resultMap>

    <sql id="Base_Column_List">
        id,
        asset_id,
        stk_code,
        map_stk_code,
        mkt_code,
        sec_type,
        sec_stype,
        corp_id,
        stk_name,
        stk_name_long,
        traditional_name,
        traditional_long,
        spelling,
        spelling_abbr,
        spelling_short,
        eng_name,
        board_code,
        lot_size,
        change_limit,
        listing_date,
        delist_date,
        ccy_type,
        `version`,
        add_version,
        is_invest,
        is_simu_invest,
        ext_time,
        is_confirm,
        is_revise,
        issue_price,
        exchange,
        stk_name_iscover,
        spread_table_code,
        create_user,
        create_dept,
        create_time,
        update_user,
        update_time,
        status,
        is_deleted
    </sql>


    <select id="findAssetInfoList" resultMap="assetInfoResultMap">
        select *
        from stk_asset_info
        where is_invest = 1 and mkt_code = #{market}
    </select>

    <delete id="delObj" >
        delete from stk_asset_info where id = #{id}
    </delete>

    <delete id="batchDeleteByAssetId" parameterType="java.util.List">
        DELETE FROM stk_asset_info
        WHERE asset_id IN
        <foreach collection="assetIds" item="assetId" open="(" separator="," close=")">
            #{assetId}
        </foreach>
    </delete>
</mapper>
