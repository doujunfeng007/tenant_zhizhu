<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.minigod.zero.bpmn.module.actionsInfo.mapper.ActionsInfoMapper">
    <!-- 通用查询映射结果 -->
    <resultMap id="actionsInfoResultMap" type="com.minigod.zero.bpmn.module.actionsInfo.vo.CorporateActionsInfoVO">
        <result property="id" column="id"/>
        <result property="tradeAccount" column="trade_account"/>
        <result property="stockCode" column="stock_code"/>
        <result property="stockName" column="stock_name"/>
        <result property="exchangeType" column="exchange_type"/>
        <result property="actionNameType" column="action_name_type"/>
        <result property="actionOptType" column="action_opt_type"/>
        <result property="stockAmount" column="stock_amount"/>
        <result property="cashAmount" column="cash_amount"/>
        <result property="additionalStkAmount" column="additional_stk_amount"/>
        <result property="remark" column="remark"/>
        <result property="status" column="status"/>
        <result property="createTime" column="create_time"/>
        <result property="updateTime" column="update_time"/>
        <result property="backReason" column="back_reason"/>
    </resultMap>


    <select id="selectActionsInfoPage" resultMap="actionsInfoResultMap">
        select *
        from corporate_actions_info a
        <where>
            <if test="query.tradeAccount != '' and query.tradeAccount != null">
                and a.trade_account = #{query.tradeAccount}
            </if>
            <if test="query.stockCode != '' and query.stockCode != null">
                and a.stock_code = #{query.stockCode}
            </if>
            <if test="query.stockName != '' and query.stockName != null">
                and a.stock_name = #{query.stockName}
            </if>
            <if test="query.status != null">
                and a.status = #{query.status}
            </if>
        </where>
    </select>
</mapper>
